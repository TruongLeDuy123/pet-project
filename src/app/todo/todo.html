<div class="todo-container">
    <h2>To-Do List</h2>
    <form [formGroup]="todoForm" (ngSubmit)="addTask()" class="input-group">
        <input type="text" formControlName="title" placeholder="Enter a new task" />
        <button type="submit" [disabled]="todoForm.invalid">Add</button>
    </form>

    <div *ngIf="todoForm.get('title')?.touched && todoForm.get('title')?.invalid" style="color: red">
        Task name is required
    </div>

    <div>
        <button (click)="setFilter('all')" [class.active]="filter === 'all'">All</button>
        <button (click)="setFilter('active')" [class.active]="filter === 'active'">Active</button>
        <button (click)="setFilter('completed')" [class.active]="filter === 'completed'">Completed</button>
    </div>

    <ul>
        <li *ngFor="let task of filteredTasks">
            <input type="checkbox" [checked]="task.completed" (change)="toggleTask(task)" />
            <span [class.completed]="task.completed">{{task.title}}</span>
            <button class="edit-btn" (click)="editTask(task)">Edit</button>
            <button class="delete-btn" (click)="deleteTask(task.id)">Delete</button>
        </li>
    </ul>
</div>